---
title: "å‹•çš„ã‚¿ã‚°ã§ã‚‚å‹ãŒã¤ãåƒ•ãŒæ¬²ã—ã„æœ€å¼·ã® Button.tsx ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã¤ãã‚‹"
emoji: "ğŸ•ºğŸ¿"
type: "tech"
topics: ["react", "tsx"]
published: true
---

# æœ€å¼·ã®ã‚ªãƒ¬ã‚ªãƒ¬ Button.tsx ã¨ã¯?

Button ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ãŸæ™‚ã€JS ã‚¤ãƒ™ãƒ³ãƒˆãªã©ã‚’ä½¿ã†æ™‚ã¯ `<button>`ã€ href ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã¤ã‘ã¦ãƒªãƒ³ã‚¯ã«ã—ãŸã„ã¨ãã¯ `<a>`ã¿ãŸã„ã«å‹•çš„ã«ã‚¿ã‚°ã‚’æŒ‡å®šã—ãŸã‹ã£ãŸã®ã§ã€ãã®æ™‚ä½¿ã„å‹æ‰‹ã®è‰¯ã„ component ã‚’è€ƒãˆãŸã€‚

æœ€å¼·ã®å®šç¾©ã¯çŸ¥ã‚‰ãªã„ãŒã€ä»•æ§˜ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚

1. **å‹•çš„ã«ã‚¿ã‚°ã‚’æŒ‡å®šã§ãã‚‹ã€‚**
1. **æŒ‡å®šã—ãŸã‚¿ã‚°ã«ã‚ã‚‹å±æ€§ã ã‘ props ã‚’è¨±å¯ã™ã‚‹ã€‚**
1. **`<button>`ã€`<a>` ã®è¨±å¯ã—ãŸã‚¿ã‚°ã®ã¿ props ã§æŒ‡å®šã§ãã‚‹**
1. (ãŠã¾ã‘) **`"next/link"` ã® Link ã‚¿ã‚°ã‚‚æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹**

### å…ˆã«çµè«–ã‚³ãƒ¼ãƒ‰

å¿™ã—ã„äººå‘ã‘ã«å…ˆã«çµè«–ã€‚3 ãŒæ„å¤–ã¨é›£ã—ãã¦æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã£ãŸã€‚

:::details 3. next/link ãªã—

```tsx: Button3.tsx
import classnames from 'classnames'
import { createElement, ReactNode } from 'react'

type Tags = 'button' | 'a'
type Props<T extends Tags> = JSX.IntrinsicElements[T] & {
  as?: T
  children?: ReactNode
  className?: string
}

export const Button = <T extends Tags = 'button'>({ as, children, className, ...props }: Props<T>) => {
  return createElement(
    as || 'button',
    {
      ...props,
      class: classnames(`btn`, className),
    },
    children
  )
}
```

:::

:::details 4. next/link ã‚ã‚Šï¼ˆè¦æ³¨æ„ï¼‰

```tsx:Button4.tsx
import classnames from 'classnames'
import Link, { LinkProps } from 'next/link'
import { createElement, ReactNode } from 'react'

type Tags = 'button' | 'a'

type Element<T extends Tags | 'Link'> = T extends Tags
  ? JSX.IntrinsicElements[T]
  : LinkProps & JSX.IntrinsicElements['a']

type Props<T extends Tags | 'Link'> = Element<T> & {
  tag?: T | 'Link'
  children?: ReactNode
  className?: string
}

export const Button = <T extends Tags | 'Link'>({ tag, size, color, children, className, ...props }: Props<T>) => {
  const attrs = {
    ...props,
    class: classnames(`btn`, className),
  }
  const tagName = tag === 'Link' ? 'a' : tag || 'button'
  return tag === 'Link' ? (
    <Link href="/" {...props}>
      {createElement(tagName, attrs, children)}
    </Link>
  ) : (
    createElement(tagName, attrs, children)
  )
}
```

:::
CSS ã¯ `.btn` ã«ã‚¹ã‚¿ã‚¤ãƒ«ãŒå½“ãŸã£ã¦ã„ã‚‹æƒ³å®šã§æ›¸ã„ã¦ã„ã¾ã™ãŒã€ é©å®œ tailwind ã‚„ style jsx ãªã©å¥½ããªæ–¹æ³•ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚

## è¦ä»¶ã‚’è©³ã—ã

### 1. å‹•çš„ã«ã‚¿ã‚°ã‚’æŒ‡å®šã§ãã‚‹ã€‚

`<Button as="a" href="https://poiit.me">ãƒœã‚¿ãƒ³</Button>` ã®ã‚ˆã†ã« as ã‚’ props ã¨ã—ã¦ã€å‹•çš„ã«ã‚¿ã‚°ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚

```tsx
import { Button } from '~/components/atoms/Button'

<Button className="mt-2" as="a" href="https://zenn.dev">
  ok:ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
</Button>

<Button className="mt-2" as="button" onClick={onClick}>
  ok:ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
</Button>
```

## 2. æŒ‡å®šã—ãŸã‚¿ã‚°ã«ã‚ã‚‹å±æ€§ã ã‘ props ã‚’è¨±å¯ã™ã‚‹ã€‚

`<a>` ã‚¿ã‚°ã«ã¯ `href` ãŒæŒ‡å®šã§ãã‚‹ãŒã€`<button>` ã§ã¯æŒ‡å®šã§ããªã„ã®ã§ã€ä½¿ç”¨ã§ããªã„å±æ€§ã® props ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã«ã—ãŸã„ã€‚ã‚‚ã¡ã‚ã‚“ã€Button.tsx ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ props äººåŠ›æŒ‡å®šãªã©ã¯ã—ãŸããªã„ã€‚

```tsx
<Button className="mt-2" as="a" href="https://zenn.dev">
  ok:ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
</Button>

<Button className="mt-2" as="button" href="https://zenn.dev">
  ng: button ã« href ã¯æŒ‡å®šã§ããªã„
</Button>
```

## 3.`<button>`ã€`<a>` ã®è¨±å¯ã—ãŸã‚¿ã‚°ã®ã¿ as ã§æŒ‡å®šã§ãã‚‹

`<button>`ã€`<a>`ã¯æŒ‡å®šã—ãŸã„ãŒã€`<div>` ãªã©è¨±å¯ã—ãŸããªã„ã€‚ `<div>` ã‚’ãƒœã‚¿ãƒ³ã«è¦‹ã›ã‹ã‘ã‚‹ã“ã¨ã¯ã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ¼ã®è¦³ç‚¹ãªã©ã‹ã‚‰é˜²ããŸã„ã®ã§ã€runtime ã‚¨ãƒ©ãƒ¼ã§å‹ã§ã‚¨ãƒ©ãƒ¼ã«ã—ãŸã„ã€‚

```tsx
<Button className="mt-2" as="div" onClick={onClick}>
  ng: as ã« div ã¯æŒ‡å®šã§ããªã„ã€‚
</Button>
```

# Button.tsx ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ

## å…¨ã¦ã®ã‚¿ã‚°ã‚’å‹•çš„ã«æŒ‡å®š

ã¾ãšã¯ã€å˜ã«å…¨ã¦ã®ã‚¿ã‚°ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã®ã§ã‚ã‚Œã°ã€ä¸‹è¨˜ã®ã‚ˆã†ãªæ–¹æ³•ã§ `ElementType` ã‚’åˆ©ç”¨ã—ã¦ã‚ã’ã‚Œã°ã¤ãã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```tsx: Button2.tsx
import classnames from 'classnames'
import { ElementType, ReactNode } from "react";

type Props = {
  as?: ElementType;
  className?: string;
  children?: ReactNode;
};

export const Button = ({ as: Tag = "button", className, children }: Props) => {
  return <Tag className={classnames(`btn` , className)}>{children}</Tag>;
};
```

ã“ã®å ´åˆã¯è¦ä»¶ 1. 2. ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ãŒã€ `as="div"` ã§ å‹ã«ã‚ˆã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã®ã§ã€`è¦ä»¶3` ãŒã‚¯ãƒªã‚¢ã—ãªã„ã€‚

https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAYwDYEMDOaB2KQFM1wBmUEIcA5MuljvuQFCiSxwBKuKC8xpFUHXcgG5G4aPADecAKJJceTDAAqATzC4ANGwEwAchAAmuOAF8iJMgCJ+nGJZH0Ya4wAUSYAgF44E+nDjoAPwAXDJyCsrOIv5UGLq0IXBoMFDAmADm0YgAFsBIBvyYiey2+kYiJg64AB7M8AgQmMlwAEIArjAwjXDeABRS6KFKKOk9cJYARh1dmJZasWjxePO5+YWmoW4QHgCUPQB8Pn5w-DBtUJhwADzDowtLuJ4SC9h4aL0ABhMwmB9w86g4rQdiZ9s9VgVcJgTFcAPS3fYVERAA

## generics ã§å‹ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã€è¨±å¯ã—ãŸã‚¿ã‚°ã®ã¿ã‚’ as ã§æ¸¡ã›ã‚‹ã‚ˆã†ã«

`type Tags = "button" | "a";` ã§è¨±å¯ã—ãŸã‚¿ã‚°ã®ã¿ã‚’ generics ã§å‹ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€ä»–ã® `div` ãªã©ã®ã‚¿ã‚°ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚ˆã†ã«ã—ãŸã€‚

`<Button<'a'> as="a" href="https://poiit.me">` ã¿ãŸã„ã«å‹ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ãŒã€ `as="a"` ã¨æ¸¡ã™ã ã‘ã§ a ä»¥å¤–ã®å±æ€§ãŒã‚ã‚‹æ™‚ã«æ¨è«–ã•ã‚Œã‚‹ã®ã§ã€`<Button as="a" href="https://poiit.me">` ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã€‚

`<Button<'button'> as="a" href="https://poiit.me">` ã¯ as ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚

```tsx Button3.tsx
import classnames from "classnames";
import { createElement, ReactNode } from "react";

type Tags = "button" | "a";

type Props<T extends Tags> = JSX.IntrinsicElements[T] & {
  as?: T;
  children?: ReactNode;
  className?: string;
};

export const Button = <T extends Tags = "button">({
  as,
  children,
  className,
  ...props
}: Props<T>) => {
  return createElement(
    as || "button",
    {
      ...props,
      class: classnames(`btn`, className),
    },
    children
  );
};
```

å°‘ã—è§£èª¬ã‚’ã™ã‚‹ã¨ã€`JSX.IntrinsicElements` ã«ã¯ã€react ã®ã‚¿ã‚°ã§æŒ‡å®šã§ãã‚‹ props ã®å‹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã“ã¡ã‚‰ã‹ã‚‰å–ã‚Šå‡ºã—ã¦ä½¿ãˆã‚‹ã€‚
ä¾‹ãˆã° `a` ã«æ¸¡ã›ã‚‹ props ã¯ `JSX.IntrinsicElements['a'] ` ã®ã‚ˆã†ã«å–ã‚Œã‚‹ã€‚

### ã»ã‚“ã¨ã¯ `createElement` ã‚’åˆ©ç”¨ã—ãŸããªã„ãŒã€

å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®éƒ¨åˆ†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã—ã¾ã£ãŸ

:::details ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã£ãŸ JSX è¨˜è¿°ã‚³ãƒ¼ãƒ‰

```tsx
import classnames from "classnames";
import { ReactNode } from "react";

type Tags = "button" | "a";
type Props<T extends Tags> = JSX.IntrinsicElements[T] & {
  as?: T;
  children?: ReactNode;
  className?: string;
};

export const Button = <T extends Tags = "button">({
  as,
  children,
  className,
  ...props
}: Props<T>) => {
  const Tag = as || "button";
  return (
    <Tag className={classnames(`btn`, className)} {...props}>
      {children}
    </Tag>
  );
};
```

:::

ã‚¨ãƒ©ãƒ¼ã¯ TS Playground ã§ç¢ºèªã§ãã‚‹ã®ã§ã€ã‚ã‹ã‚‹æ–¹ã„ãŸã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚
https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAYwDYEMDOaB2KQFM1wBmUEIcA5MuljvuQFCiSxwBKuKC8xpFUHXBk2jwA3mwEwAchAAmuOAF8iJMuX6cYDejACeYBQBUUAcwIBeCgCMArjBgRM5OAB8KKBnoNwACiTBoADyGcLgAHjC4mLIExmYAfHCWAFIAygAaAHQAkpgwUMCYaMAIAKJIuHh5aADahgC6cABkcKL0cHDoAPwAXHCG7YgAFsBIsvyYvRKaMvKDVBhStFNo+YUm9Ir09OHM8AiOq3AAQnYOmElwwaERUTH9phbWZ47k8QAU4ugANMOj41Ffgs0Es8L9MhCwP4CIo+n4IAFgvEAJRJRJtDoHIrwOKXdCuNzkWz2V6DfgwGxQC7vQYdYKmRCoRa0cyiYHYPBod4AAysMEw3KBTJBtGRylEEMyUIRaEU8VpHVaCBGYwmW0VVwA9HF5R1kZt6EA

## "next/link" ã‚‚å¯¾å¿œ

`<Link/>` ã¯å˜ç´”ã« `<a>` ã®ä»£ã‚ã‚Šã¨ã—ã¦ä½¿ãˆãšã«ã€ãƒ©ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§, `Link` ã®æ–‡å­—åˆ—ãŒ as ã¨ã—ã¦æ¸¡ã£ã¦ããŸå ´åˆã«ã€Link ã§ãƒ©ãƒƒãƒ—ã—ãŸã€‚
ã¾ãŸã€`<Link/>` ã«ã¯ `as` ã¨ã„ã† props ãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã¦ã€ `as` ã‹ã‚‰ `tag` ã« props åã‚’å¤‰æ›´ã—ãŸã€‚

```tsx: Button4.tsx
import classnames from 'classnames'
import Link, { LinkProps } from 'next/link'
import { createElement, ReactNode } from 'react'

type Tags = 'button' | 'a'

type Element<T extends Tags | 'Link'> = T extends Tags
  ? JSX.IntrinsicElements[T]
  : LinkProps & JSX.IntrinsicElements['a']

type Props<T extends Tags | 'Link'> = Element<T> & {
  tag?: T | 'Link'
  children?: ReactNode
  className?: string
}

export const Button = <T extends Tags | 'Link'>({ tag, size, color, children, className, ...props }: Props<T>) => {
  const attrs = {
    ...props,
    class: classnames(`btn`, className),
  }
  const tagName = tag === 'Link' ? 'a' : tag || 'button'
  return tag === 'Link' ? (
    <Link href="/" {...props}>
      {createElement(tagName, attrs, children)}
    </Link>
  ) : (
    createElement(tagName, attrs, children)
  )
}
```

`LinkProps` ã«ã¯ `<Link/>` ã«æ¸¡ã›ã‚‹ Props ãŒã¯ã£ã¦ãã‚‹ã®ã§ã€`T extends Tags` ãŒ `false` ã®å ´åˆã«ã€`JSX.IntrinsicElements["a"]` ã¨çµåˆã—ãŸã€‚

```tsx
type Element<T extends Tags | "Link"> = T extends Tags
  ? JSX.IntrinsicElements[T]
  : LinkProps & JSX.IntrinsicElements["a"];
```

# "next/link" ã‚’ ä¸€ç¨®ã®ã‚¿ã‚°ã¨ã—ã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å«ã‚ã‚‹ã¹ãã‹ã€‚

æœ€å¾Œã«è¨­è¨ˆã¨ã—ã¦ã€ãã‚‚ãã‚‚"next/link" ã‚’ ä¸€ç¨®ã®ã‚¿ã‚°ã¨ã—ã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å«ã‚ãªã„æ–¹ãŒã„ã„ã®ã§ã¯ï¼Ÿã¨è©±ã«ãªã£ãŸã€‚

[next/link](https://nextjs.org/docs/api-reference/next/link) ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã‚ã‚‹ã‚ˆã†ã«ã€ `<Link/>` ã‚’ä¸€ç¨®ã®ã‚¿ã‚°ã¨ã—ã¦æ‰ãˆã‚‹ã‚ˆã‚Šã‚‚ `<Link/>` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦åˆ‡ã‚Šåˆ†ã‘ã¦ä½¿ã£ãŸã»ã†ãŒã„ã„æ°—ã‚‚ã—ã¦ãã¦ã„ã‚‹ã€‚
:::details ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‰

```tsx
import Link from "next/link";

function Home() {
  return (
    <ul>
      <li>
        <Link href="/">
          <a>Home</a>
        </Link>
      </li>
      <li>
        <Link href="/about">
          <a>About Us</a>
        </Link>
      </li>
      <li>
        <Link href="/blog/hello-world">
          <a>Blog Post</a>
        </Link>
      </li>
    </ul>
  );
}

export default Home;
```

:::

ã¤ã¾ã‚Šã€ã“ã®ã‚ˆã†ã«ä½¿ã£ãŸã»ã†ãŒè‰¯ã•ãã†ã€‚

```tsx
<Link href="https://poiit.me">
  <Button as="a">ãƒœã‚¿ãƒ³</Button>
</Link>
```

ã¾ãŸ `<Link>` ã‚’å«ã‚ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¾ã å®Ÿé‹ç”¨ã—ã¦ãªã„ã®ã§ã€æ€ã‚ã¬ä¸å…·åˆãŒå‡ºãŸéš›ã«å¯¾å¿œãŒè¤‡é›‘åŒ–ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ãªãŠã•ã‚‰ã€‚
ãŸã å€‹äººçš„ã«ã¯ã€tree æ§‹é€ ã¨ã—ã¦ä¸€ç¨®ã®ã‚¿ã‚°ã¨ã—ã¦æŒ‡å®šã§ããŸã»ã†ãŒè¦‹ã‚„ã™ã„ã®ã§ã€è©¦ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„æ›¸ã„ã¦ã¿ãŸã€‚

ã“ã®è¾ºã‚Šã®æ„è¦‹ã‚„ `next` ãŒ <NuxtLink> ã®ã‚ˆã†ãªæŒ™å‹•ã«ã—ãªã‹ã£ãŸç†ç”±ãŒã‚ã‹ã‚Šã‚„ã™ã„æƒ…å ±ãŒã‚ã‚Œã°æ•™ãˆã¦æ¬²ã—ã„ã§ã™ã€‚

---

scrap ãƒ¡ãƒ¢ã€‚ãªã‚“ã‹é›‘ã«ã€ã‚ã„ã‚ã„ã—ãŸæ–¹ã¯ã©ã†ãã”è‡ªç”±ã«ãŠä½¿ã„ãã ã•ã„ã€‚
https://zenn.dev/yahsan2/scraps/0c905eec4ea19d
