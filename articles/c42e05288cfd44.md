---
title: "LLM と組み合わせて GitHub Projects を効率管理するために gh cli 拡張 gh-pm を作ったよ"
emoji: "🎩"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["github", "cli", "llm", "graphql", "automation"]
published: false
---

これからのAI時代。PdM などがやってるチケット管理は、LLM と人の協働が前提になりますよね？！自然言語で意図を伝えれば、作成・更新・移動・集計などを自動化できる世界です。GitHub Projects (v2) は柔軟なフィールドと強力なクエリ/自動化を備えており、LLM との相性がとても良い基盤です。gh-pm はその組み合わせを CLI から実務に落とし込むための GitHub CLI 拡張です。


## 作った背景

GitHub Projects (v2) は柔軟で強力ですが、実運用では次の課題に直面しがちです。

- issue を Project に紐づける作業が面倒
- フィールド更新や移動など、細かい操作が多い
- GraphQL API を直接書くのは複雑すぎる

これを解決するために開発したのが gh-pm です。GitHub CLI の拡張として動作し、LLM と組み合わせることで自然言語による操作も可能になります。

## 機能概要（主要機能とコマンド例）

### 1. 初期化と `.gh-pm.yml`

まずは設定ファイルを作成します。

```bash
gh pm init
```

これでプロジェクトを検出し、`.gh-pm.yml` が自動生成されます。このファイルには「Status」「Priority」「Deadline」などのフィールド情報がキャッシュされ、以降のコマンドでフィールド名を省略して直感的に使えるようになります。

例：`.gh-pm.yml` の一部

```yaml
fields:
  status:
    backlog: "Backlog"
    in_progress: "In Progress"
    done: "Done"
  priority:
    p1: "High"
    p2: "Medium"
    p3: "Low"
  deadline: "Due Date"
```

### 2. Project への issue 作成と更新

シンプルなコマンドで issue を作成し、必要なフィールドを同時に設定できます。

```bash
# 優先度 P1、backend ラベル付きで新規 issue を作成
gh pm create --title "Implement authentication" --priority p1 --label backend
```

既存の issue を Project 上で更新することも可能です。

```bash
# issue #123 を in_progress カラムへ移動
gh pm move 123 --status in_progress
```

### 3. Issue の intake（追加）

Project にまだ紐づいていない issue を検索し、まとめて追加できます。

```bash
# ラベルが bug の issue を backlog に追加し、優先度 p2 を設定
gh pm intake --label bug --apply "status:backlog,priority:p2"
```

### 4. Issue の分割（split）

大きな issue を小さなサブ issue に分解できます。

```bash
# issue #123 の本文からサブ issue を自動生成
gh pm split 123 --from=body
```

### 5. Triage（仕分け）

ルールやインタラクティブモードを使って、一括で triage が可能です。特に `.gh-pm.yml` でフィールドが設定されていると便利です。

```bash
# tracked 状態の issue をまとめて処理
gh pm triage tracked

# 見積りフィールドを一覧表示
gh pm triage estimate --list

# 期限切れの issue を取得（.gh-pm.yml の deadline 設定を使用）
gh pm triage deadline --expired
```

### 6. 柔軟な出力

取得した情報は JSON や CSV に出力できるので、LLM や他の自動化ツールと組み合わせやすい設計になっています。

```bash
# プロジェクト情報を JSON 出力
gh pm list --format json
```

## 想定使用方法（LLM との連携）

gh-pm は Claude code や Codex CLI のような LLM と組み合わせて使って本領発揮します。

例：

- 「1週間更新されていない issue を一覧化して backlog に戻して」
  - → LLM が `gh pm triage deadline --expired` や `gh pm move` コマンドを生成
- 「優先度 P1 のタスクをすべて進行中に移して」
  - → `gh pm move ... --status in_progress` を自動生成

人間が自然言語で意図を伝え、LLM が gh-pm コマンドを発行することで、Project 管理の自動化が一気に加速します。

## 他にできる活用例

### 1. 放置されたタスクを一括ラベル付け

```bash
# 7日以上期限切れのタスクを stale ラベル付け
gh pm triage deadline --expired=7d | xargs -I{} gh label add stale {}
```

### 2. 特定フィールドを持つ issue を一括移動

```bash
# 期限が切れたタスクを Backlog に戻す
gh pm triage deadline --expired | xargs -I{} gh pm move {} --status backlog
```
## 今後
CLAUDE.md などにこれらのコマンドを書いて、LLM に実行させるワークフローを構築するのが理想です。
正直現在は LLM が適切なコマンドを実行してくれないこともあるのですが、期待通りに動いた時は、GitHub Projects と LLM の組み合わせは非常に強力なので、精度を上げるためのCLAUDE.md への指示や /hooks などを改良し、公開していく予定です。

ぜひ使ってみて、フィードバックやプロンプトのアイデアを共有してください！あと、スターも歓迎です🙏

https://github.com/yahsan2/gh-pm/

## まとめ

gh-pm は次の特徴を持った拡張です。

- GitHub Projects の日常的な操作を CLI で簡略化
- GraphQL API の複雑さを隠蔽
- `.gh-pm.yml` を活用して直感的にフィールド指定
- LLM との組み合わせで自然言語による操作が可能

日々のプロジェクト運用を「手早く、壊さず、伝わる形で」進めるための、実用的な相棒になれば幸いです。
